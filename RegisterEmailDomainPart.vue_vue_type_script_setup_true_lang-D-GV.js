import{d as $,k as p,o as n,f as d,g as o,h as v,a as t,p as a,b as u,ci as z,ch as D,ck as A,cj as V,cg as C,w as F,x as q,ac as _,dt as S,s as j,bZ as B,t as h,j as f,F as E,q as I,c as N,bV as T,e3 as U,an as R}from"./index-B-Wkf0n4.js";import{r as K,a as L,b as J,c as M,_ as P}from"./TooltipProvider.vue_vue_type_script_setup_true_lang-DecDKEiB.js";const Q={class:"text-sm font-medium text-gray-700 w-full"},Z=o("div",{class:"max-h-[175px] text-sm w-[230px] overflow-y-auto container-scroll"}," Adicione domínios de e-mail para limitar o cadastro e acesso à sua organização apenas a usuários com domínios de e-mail especificados. ",-1),G={class:"mt-4"},H={key:0},O={class:"flex w-full items-center gap-2"},W=o("div",null,"@",-1),X={key:0,class:"text-danger text-sm mt-1 text-right"},Y={key:0,class:"border rounded w-full overflow-hidden mt-4"},ee={class:"overflow-y-auto container-scroll max-h-[144px] min-h-[36px] flex flex-wrap gap-1"},te={class:"w-full divide-y"},ae={class:"ml-auto flex items-center"},se={key:0},oe=o("p",null,"Usuários associados",-1),ie={key:1,class:"text-sm text-zinc-500 mt-3 ml-0.5"},re=$({__name:"RegisterEmailDomainPart",props:{emailDomains:{}},emits:["update"],setup(y,{emit:g}){const i=p(y.emailDomains||[]),c=p(!1),r=p(""),m=p(""),x=g;function w(l){if(!l||l.split(".").length<2){m.value="Domínio de email inválido";return}if(i.value.some(e=>e.domain===l)){m.value="Este domínio já foi adicionado";return}i.value.push({id:U().uid,domain:l,users_with_domain:0}),c.value=!1,r.value="",x("update",i.value.map(e=>e.domain))}function b(l){i.value=i.value.filter(e=>e.id!==l.id),x("update",i.value.map(e=>e.domain))}function k(){c.value=!0,R(()=>{setTimeout(()=>{document.querySelector('[name="input_domain"]')?.focus()},50)})}return(l,e)=>(n(),d("div",null,[o("div",Q,[v(" Domínios de email permitidos "),t(u(C),null,{default:a(()=>[t(u(z),{class:""},{default:a(()=>[t(u(D),{class:"ml-1 inline-flex text-primary h-5 w-5 rounded-full"})]),_:1}),t(u(A),null,{default:a(()=>[t(u(V),{side:"top","side-offset":5,class:"rounded-md px-3 py-2 overflow-hidden z-[50] shadow-md bg-white border border-zinc-50 will-change-[transform,opacity] data-[state=open]:data-[side=top]:animate-slideDownAndFade data-[state=open]:data-[side=right]:animate-slideLeftAndFade data-[state=open]:data-[side=bottom]:animate-slideUpAndFade data-[state=open]:data-[side=left]:animate-slideRightAndFade"},{default:a(()=>[Z]),_:1})]),_:1})]),_:1})]),o("div",G,[F(t(_,{variant:"white",type:"button",onClick:e[0]||(e[0]=s=>k()),size:"sm",class:"!text-sm !px-3"},{default:a(()=>[v("Adicionar domínio")]),_:1},512),[[q,!c.value]]),c.value?(n(),d("div",H,[o("div",O,[t(B,{name:"input_domain",label:"",size:"xs",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=s=>r.value=s),onInput:e[2]||(e[2]=s=>m.value=""),onKeydown:e[3]||(e[3]=S(j(s=>w(r.value),["prevent"]),["enter"])),placeholder:"segarante.com.br",class:"w-full",inputType:"text",required:""},{"icon-left":a(()=>[W]),_:1},8,["modelValue"]),t(_,{onClick:e[4]||(e[4]=s=>w(r.value)),type:"button",class:"mt-[1px] !h-[38px]"},{default:a(()=>[t(u(K),{class:"h-5 w-5"})]),_:1})]),m.value?(n(),d("div",X,h(m.value),1)):f("",!0)])):f("",!0)]),i.value.length>0?(n(),d("div",Y,[o("div",ee,[o("ul",te,[(n(!0),d(E,null,I(i.value,s=>(n(),d("li",{key:s.id,class:"flex w-full text-sm text-zinc-700 px-2.5 h-[36px] items-center"},[o("p",null,h(s.domain),1),o("div",ae,[s.users_with_domain>0?(n(),d("div",se,[t(P,null,{default:a(()=>[t(L,{"disable-hoverable-content":""},{default:a(()=>[t(J,{type:"button",class:"rounded-full bg-primary text-xs items-center w-5 h-5 cursor-default mr-0.5 flex justify-center text-white"},{default:a(()=>[v(h(s.users_with_domain),1)]),_:2},1024),t(M,null,{default:a(()=>[oe]),_:1})]),_:2},1024)]),_:2},1024)])):(n(),N(_,{key:1,variant:"white",size:"sm",onClick:le=>b(s),type:"button",class:"ml-auto !border-0 !shadow-none !px-0 !py-0 !h-[24px] !w-[24px] hover:!bg-zinc-200 group"},{default:a(()=>[t(u(T),{class:"h-4 w-4 text-zinc-400 group-hover:text-zinc-500"})]),_:2},1032,["onClick"]))])]))),128))])])])):f("",!0),i.value.length>0?(n(),d("div",ie," Só é possível remover os domínios que não possuem usuários associados. ")):f("",!0)]))}});export{re as _};
